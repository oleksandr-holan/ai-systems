# Лабораторна робота №9: Еволюційне моделювання. Варіант 9: Оптимізація інвестиційного портфелю**

## Формулювання задачі

Суть задачі полягає у розподілі капіталу між $N$ доступними активами таким чином, щоб максимізувати прибутковість портфеля при мінімальному ризику (або максимізувати коефіцієнт Шарпа).

### Генотип та Фенотип

* **Генотип (Простір пошуку):** Вектор дійсних чисел $W = [w_1, w_2, ..., w_N]$, де $w_i$ — частка капіталу, вкладена в $i$-й актив.
  * *Обмеження:* $0 \le w_i \le 1$ та $\sum_{i=1}^{N} w_i = 1$ (сума всіх часток має дорівнювати 100%).
* **Фенотип (Простір рішень):** Реальний інвестиційний портфель з розрахованими характеристиками: очікуваною прибутковістю ($R_p$) та ризиком (стандартним відхиленням $\sigma_p$).

### Цільова функція (Fitness Function)

Ми будемо використовувати **Коефіцієнт Шарпа (Sharpe Ratio)**. Він показує, скільки додаткового прибутку (понад безризикову ставку) ми отримуємо на одиницю ризику.

$$Fitness(W) = \frac{E[R_p] - R_f}{\sigma_p}$$

Де:

* $E[R_p] = \sum w_i \cdot r_i$ — очікувана прибутковість портфеля.
* $R_f$ — безризикова ставка (наприклад, депозит у надійному банку).
* $\sigma_p = \sqrt{W^T \cdot \Sigma \cdot W}$ — ризик портфеля (стандартне відхилення), де $\Sigma$ — коваріаційна матриця активів.

## Відповіді на контрольні запитання

Оскільки у вашому запиті не було надано конкретного списку питань, я підготував відповіді на фундаментальні питання, що стосуються цієї лабораторної роботи та теорії еволюційного моделювання.

**1. У чому полягає відмінність між генотипом і фенотипом у контексті еволюційних алгоритмів?**

* **Генотип** — це закодована інформація про розв'язок, з якою працюють генетичні оператори (мутація, кросовер). У нашому випадку це масив чисел (ваг).
* **Фенотип** — це реальне вираження цього розв'язку у предметній області, яке має характеристики якості. У нашій задачі це конкретний портфель з його показниками прибутковості та ризику, на основі яких обчислюється функція пристосованості.

**2. Що таке цільова функція (функція пристосованості) і яка її роль?**
Функція пристосованості (Fitness function) — це критерій, який кількісно оцінює, наскільки "хорошим" є даний розв'язок задачі. Її роль полягає у спрямуванні еволюційного процесу: алгоритм віддає перевагу індивідам з вищим значенням цієї функції при селекції, що дозволяє популяції "еволюціонувати" до кращих рішень. У цій роботі ми максимізували коефіцієнт Шарпа.

**3. Які оператори використовуються в генетичному алгоритмі?**

* **Селекція (Selection):** вибір батьківських особин для створення потомства (ми використали турнірний відбір).
* **Кросовер (Crossover / Recombination):** обмін генетичною інформацією між батьками для створення нащадків (ми використали арифметичний кросовер — усереднення ваг).
* **Мутація (Mutation):** випадкова зміна генів для підтримки різноманітності в популяції та запобігання застряганню в локальних екстремумах.

**4. Чому важливо нормалізувати ваги портфеля після мутації або кросоверу?**
Інвестиційний портфель має жорстке обмеження (constraint): сума часток усіх активів повинна дорівнювати 1 (або 100% капіталу). Генетичні оператори (наприклад, додавання випадкового числа при мутації) можуть порушити це правило. Нормалізація ($w_i = w_i / \sum w$) повертає розв'язок у допустиму область простору пошуку.

**5. Що таке елітизм і навіщо він потрібен?**
Елітизм — це механізм, за якого найкращі особини з поточної популяції переносяться в наступну без змін. Це гарантує, що найкращий знайдений розв'язок не буде втрачено через випадковий характер мутації або кросоверу, що забезпечує монотонне покращення результатів або їх стабільність.
